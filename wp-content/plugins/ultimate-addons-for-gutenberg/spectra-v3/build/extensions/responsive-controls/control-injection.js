(()=>{"use strict";var e={2619:e=>{e.exports=window.wp.hooks},3168:(e,t,o)=>{o.d(t,{$G:()=>L,Ap:()=>c,Eo:()=>b,I_:()=>v,K8:()=>l,KK:()=>_,ND:()=>a,QH:()=>S,Sj:()=>w,T$:()=>n,Vp:()=>u,ZR:()=>y,eM:()=>p,jM:()=>C,jd:()=>h,om:()=>f,qo:()=>k,s_:()=>m,u5:()=>i,vn:()=>d,zE:()=>g});var s=o(2619),r=o(7723);const n=1,i=(0,s.applyFilters)("spectra.excludedResponsiveControlsBlocks",[]),c=(0,s.applyFilters)("spectra.supportedResponsiveControlsBlocks",["core/image"]),l=["spectra/","spectra-pro/"],a="Mobile",d="Tablet",u="Desktop",h={[a]:["sm","md","lg"],[d]:["md","lg"],[u]:["lg"]},p=Object.freeze(["style","layout","fontSize","fontFamily","borderColor"]),b=Object.freeze(["spacing","border","typography","shadow","layout"]),y=Object.freeze(["style.spacing.padding","style.spacing.margin","style.spacing.blockGap","style.border.top","style.border.right","style.border.bottom","style.border.left","style.border.width","style.border.color","style.border.style","style.border.radius","style.border.radius.topLeft","style.border.radius.topRight","style.border.radius.bottomLeft","style.border.radius.bottomRight","style.typography","style.shadow","style.layout","layout","fontSize","fontFamily","borderColor"]),f=Object.freeze(["type","media","useOverlay","backgroundSize","backgroundWidth","backgroundRepeat","backgroundPosition","backgroundAttachment","positionMode","positionCentered","positionX","positionY"]),m=Object.freeze({[a]:"sm",[d]:"md",[u]:"lg"}),g=[["fontSize","style.typography.fontSize"],["borderColor","style.border.color"]],v=Object.freeze({"spectra/container":["minWidth","minHeight","maxWidth","maxHeight","width","height","background","overlayType","overlayImage","overlayPosition","overlayPositionMode","overlayPositionCentered","overlayPositionX","overlayPositionY","overlayAttachment","overlayRepeat","overlaySize","overlayCustomWidth","overlayBlendMode","overlayOpacity","orientationReverse"],"spectra/google-map":["height"],"spectra/content":["enableTextShadow","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],"spectra/button":["size","gap"],"spectra/buttons":[],"spectra/icon":["size"],"spectra/icons":[],"spectra/accordion":["size"],"spectra/accordion-child-header-icon":["size"],"spectra/tabs":["size"],"spectra/tabs-child-tab-button":["size","gap"],"spectra/countdown":["minWidth","minHeight","maxWidth","maxHeight","width","height"],"spectra/list":["iconSize"],"spectra/list-child-icon":["iconSize"],"spectra/slider":["sliderHeight","arrowDistance","navigationSize","navigationIconSize","paginationTopMargin","background","slidesPerView","spaceBetween"],"spectra/slider-child":["background"],"spectra/separator":["separatorWidth","separatorHeight","separatorSize"],"spectra/modal-child-button":["size","gap"],"spectra/modal-child-icon":["size"],"spectra/modal-child-popup-close-icon":["size"],"spectra/modal-popup-content":["containerWidth","containerHeight","maxContainerHeight","contentHeight","background"],"spectra/popup-builder":["width","height","background"],"spectra/counter":["prefixRightMargin","suffixLeftMargin"],"core/image":["width","height","aspectRatio","scale"]}),S=["Spacing","Typography","Border & Shadow","Border","Shadow","Layout","Background","Dimensions","Content","General","Flex Direction","Overlay Settings","Settings"],w=".components-dropdown-menu__menu",C=".components-menu-item__button",k=".components-menu-item__item",T=new Set(["reset","reset all"]),L=e=>{if(!e||"string"!=typeof e)return!1;if(T.has(e))return!0;const t=(0,r.__)("Reset","default").toLowerCase(),o=(0,r.__)("Reset all","default").toLowerCase();return e===t||e===o},_=e=>!(!e||"string"!=typeof e)&&("reset all"===e||e===(0,r.__)("Reset all","default").toLowerCase())},3663:(e,t,o)=>{o.d(t,{A:()=>a});var s=o(7723),r=o(2619),n=o(7143),i=o(5188),c=o(3168);o(3910);let l=!1;const a=()=>l;(0,r.addFilter)("blocks.registerBlockType","spectra/responsive-controls/add-attributes",i.fc),(0,r.addFilter)("editor.BlockEdit","spectra/responsive-controls/with-responsive-controls",i.RK),(0,r.addFilter)("editor.BlockEdit","spectra/responsive-controls/with-device-view-update",i.Vd,11),{handleClick(e){const t=e.target.closest(c.Sj);if(!t)return;let o=t.getAttribute("aria-label");const r=t.querySelector(".components-menu-group__label");if(r&&r.textContent&&(o=r.textContent),!o)return;const a=e=>e.toLowerCase().trim(),d=a(o);if(!c.QH.some((e=>{if(d===a(e))return!0;const t=a((0,s.__)(e,"default"));if(d===t)return!0;const o=a((0,s.__)(e,"ultimate-addons-for-gutenberg"));return d===o})))return;let u=(0,c.$G)(e.target.textContent?.trim().toLowerCase()||"");if(!u){const t=e.target.closest(c.jM);if(t){const e=t.querySelectorAll("span");for(const t of e)if((0,c.$G)(t.textContent?.trim().toLowerCase())){u=!0;break}if(!u){const e=t.getAttribute("aria-label")?.toLowerCase()||"";u=(0,c.$G)(e)}}}if(!u&&e.target.classList.contains(c.qo.split(".")[1])){const t=e.target.nextElementSibling?.textContent?.trim().toLowerCase()||"";u=(0,c.$G)(t)}if(!u)return;let h="individual";const p=e.target.textContent?.trim().toLowerCase()||"";if((0,c.KK)(p))h="resetAll";else{const t=e.target.closest(c.jM);if(t){const e=t.querySelectorAll("span");for(const t of e)if((0,c.KK)(t.textContent?.trim().toLowerCase())){h="resetAll";break}}}const{getSelectedBlock:b}=(0,n.select)("core/block-editor"),y=b();if(!y||!(0,i.Ww)(y))return;l=!0;const f=(0,n.select)("core/editor")?.getDeviceType?.()||c.Vp,m=c.s_[f]||"lg";requestAnimationFrame((()=>{const e=b();if(!e||!(0,i.Ww)(e))return;const{attributes:t,name:o,clientId:s}=e,{responsiveControls:r={}}=t||{},c=(0,i.RM)(t,o),{updateBlockAttributes:a,__unstableMarkNextChangeAsNotPersistent:d}=(0,n.dispatch)("core/block-editor"),u=(0,i.Go)(r[m]||{}),p=[],g=(e,t,o="")=>{(0,i.Gv)(e)&&Object.keys(e).forEach((s=>{const r=e[s],n=t&&t[s],c=o?`${o}.${s}`:s;if((0,i.Gv)(r)){if((0,i.Gv)(n))g(r,n,c);else if(!(0,i.a4)(n)){p.push(c);const e=(t,o)=>{(0,i.Gv)(t)&&Object.keys(t).forEach((s=>{const r=`${o}.${s}`;p.push(r),(0,i.Gv)(t[s])&&e(t[s],r)}))};e(r,c)}}else(0,i.a4)(r)&&!(0,i.a4)(n)&&p.push(c)}))},v=(0,i.RM)(y.attributes,o);let S;if(g(v,c),"resetAll"===h)S=p;else{const e=p.filter((e=>e.startsWith("style.border.radius")));S=e.length>0?e:p}S.forEach((e=>{(0,i.Rg)(u,e)})),a(s,{responsiveControls:{...r,[m]:u}}),l=!1,requestAnimationFrame((()=>{const e=b();if(!e||!(0,i.Ww)(e))return;if((0,n.select)("core/editor")?.getDeviceType?.()!==f)return;const t=(0,i.RM)(e.attributes,e.name),o=(0,i.yo)(t,e.attributes?.responsiveControls||{},f,e.name);d();const s={...e.attributes,...o};(e.attributes.style||o.style)&&(s.style={...e.attributes.style||{},...o.style||{}}),a(e.clientId,s)}))}))},init(){this.boundHandler=this.handleClick.bind(this),document.addEventListener("click",this.boundHandler,{capture:!0}),this.cleanup=()=>{this.boundHandler&&(document.removeEventListener("click",this.boundHandler,{capture:!0}),this.boundHandler=null)},window.addEventListener("beforeunload",this.cleanup),window.addEventListener("pagehide",this.cleanup),void 0!==window.wp&&window.wp.hooks&&window.wp.hooks.addAction("spectra.cleanup","spectra/responsive-controls",this.cleanup)},boundHandler:null,cleanup:null}.init()},3910:(e,t,o)=>{var s=o(7723),r=o(7143),n=o(3168),i=o(5188);const c=Object.freeze({[n.Vp]:{label:(0,s.__)("Desktop","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor-icon lucide-monitor"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>'},[n.vn]:{label:(0,s.__)("Tablet","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tablet-icon lucide-tablet"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><line x1="12" x2="12.01" y1="18" y2="18"/></svg>'},[n.ND]:{label:(0,s.__)("Mobile","ultimate-addons-for-gutenberg"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-smartphone-icon lucide-smartphone"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>'}}),l=Object.freeze(["Spacing","Typography","Border & Shadow","Border","Shadow","Layout","Background","Dimensions","Content","Overlay Settings","Flex Direction"]),a=Object.freeze({"spectra/slider":Object.freeze(["general"]),"core/image":Object.freeze(["Settings"])});class d{constructor(){this.currentDevice=(0,r.select)("core/editor")?.getDeviceType?.()||n.Vp,this.observer=null,this.tabState=this.getTabStateFromStorage(),this.lastClickedPosition=null,this.injectionTimeout=null,this.intersectionObserver=null,this.isBlockStabilizing=!1,this.tabSwitchTimeout=null,this.buttonStateTimeout=null,this.isDestroyed=!1,this.selectors=Object.freeze({inspector:".block-editor-block-inspector",sidebar:".interface-complementary-area.editor-sidebar",toolsPanel:".editor-sidebar .components-tools-panel",panelBody:".editor-sidebar .components-panel__body",toolsPanelItem:".editor-sidebar .components-tools-panel-item",responsiveIcons:".editor-sidebar .spectra-responsive-icons",enhancedControl:".editor-sidebar .spectra-enhanced-control",excludedControl:".editor-sidebar .spectra-excluded-control",tabs:".editor-sidebar .block-editor-block-inspector__tabs",tabButton:' [role="tab"]',activeTab:'.editor-sidebar .block-editor-block-inspector__tabs [aria-selected="true"]'}),this.debouncedInject=this.debounce((()=>{this.injectDeviceButtons()}),50),this.immediateInject=()=>{this.injectDeviceButtons()},this.domCache=new Map,this.maxCacheSize=50,this.cachedScrollContainer=null,this.lastImageAttributes={},this.maxImageAttributesCacheSize=10,this.init()}debounce(e,t){let o;const s=function(...s){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),e(...s)}),t)};return s.cancel=()=>{clearTimeout(o)},s}init(){this.waitForEditor().then((()=>{try{this.setupDeviceListener(),this.setupTabObserver(),this.setupPanelClickHandler(),this.immediateInject(),this.startObserver()}catch(e){this.destroy()}})).catch((()=>{}))}getScrollableContainer(){if(this.cachedScrollContainer&&this.cachedScrollContainer.isConnected)return this.cachedScrollContainer;const e=document.querySelector(this.selectors.sidebar);if(e)return this.cachedScrollContainer=e,e;const t=document.querySelector(this.selectors.inspector);return t?(this.cachedScrollContainer=t,t):null}async waitForEditor(){return new Promise((e=>{const t=()=>{(0,r.select)("core/editor")&&this.getScrollableContainer()?e():requestAnimationFrame(t)};t()}))}isBlockInStabilizingState(e){if(!e||"spectra/container"!==e.name)return!1;const t=e.attributes;return!(Object.keys(t).length>3||t.htmlTag||t.background||t.responsiveControls)}isPanelVisible(e){if(!e)return!1;if(e.offsetHeight>0&&null!==e.offsetParent)return!0;const t=e.closest('[role="tabpanel"]');return!!t&&(!("true"===t.getAttribute("aria-hidden"))||e.classList.contains("components-tools-panel")||e.classList.contains("components-panel__body"))}startObserver(){const e=document.querySelector(this.selectors.inspector)||document.body,t=[];let o=null;const s=function(){let e=!1;for(const o of t){if("attributes"===o.type&&!e){const t=o.target;t.nodeType!==Node.ELEMENT_NODE||!t.classList?.contains("components-tools-panel-item")&&!t.closest?.(".components-tools-panel-item")||t.querySelector(".spectra-responsive-icons")||(e=!0)}if("childList"===o.type&&!e){const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if("core/image"===t?.name)for(const t of o.addedNodes)if(t.nodeType===Node.ELEMENT_NODE&&(t.classList?.contains("components-tools-panel-item")||t.querySelector?.(".components-tools-panel-item"))){e=!0;break}}if(e)break}if(t.length=0,o=null,!this.isDestroyed&&"function"==typeof this.debouncedInject&&e){const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();(0,i.Ww)(e),this.debouncedInject()}}.bind(this);this.observer=new MutationObserver((e=>{t.push(...e),t.length>10&&t.splice(0,t.length-10),o&&clearTimeout(o),o=setTimeout(s,100)})),this.observer.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["class","style"]})}isRelevantNode(e){return e.classList?.contains("components-tools-panel-item")||e.classList?.contains("components-tools-panel__item")||e.querySelector?.(".components-tools-panel-item")||e.querySelector?.(".components-tools-panel__item")}instantInjectPanels(){const e=this.getScrollableContainer();if(!e)return;const t=e.querySelectorAll(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);let o=0;for(let e=0;e<t.length&&o<2;e++){const s=t[e];if(this.panelHasResponsiveControls(s)&&!this.hasDeviceButtons(s)&&this.isPanelVisible(s)){if(s.classList.contains("components-tools-panel")){const e=s.querySelector(".components-tools-panel-header h2");if(e&&!e.querySelector(".spectra-responsive-icons")){const t=document.createElement("span");t.className="spectra-responsive-icons spectra-panel-responsive-icons",t.innerHTML=this.createDeviceButtonsHTML(),e.appendChild(t),s.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(t);const o=this.createHelpTextHTML();if(o){const e=s.querySelector(".components-tools-panel-header");e&&e.insertAdjacentHTML("afterend",o)}}}else if(s.classList.contains("components-panel__body")){const e=s.querySelector(".components-panel__body-title button");if(e&&!e.querySelector(".spectra-responsive-icons")){const t=document.createElement("span");t.className="spectra-responsive-icons spectra-panel-responsive-icons",t.innerHTML=this.createDeviceButtonsHTML(),e.appendChild(t),s.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(t)}}o++}}}maintainPanelStates(){let e=!1;const t=(0,r.select)("core/block-editor").getSelectedBlock(),o=document.querySelectorAll(this.selectors.toolsPanelItem),s=[];for(const r of o){const o=r.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);if(!o||!this.panelHasResponsiveControls(o,t))continue;const n=this.shouldApplyControlClasses(r,t),i=r.classList.contains("spectra-enhanced-control"),c=r.classList.contains("spectra-excluded-control");if(n){const o=this.isResponsiveControl(r,t);o&&!i?(s.push({control:r,action:"enhance"}),e=!0):o||c||s.push({control:r,action:"exclude"})}}s.length>0&&requestAnimationFrame((()=>{for(const{control:e,action:t}of s)"enhance"===t&&(e.classList.add("spectra-enhanced-control"),e.classList.remove("spectra-excluded-control"));e&&this.updateButtonStates()})),this.updatePanelBodies()}updatePanelBodies(){const e=document.querySelectorAll(this.selectors.panelBody),t=[];for(const o of e)this.panelHasResponsiveControls(o)&&(o.classList.contains("spectra-enhanced-panel")||t.push({panel:o,action:"addClass"}),this.hasDeviceButtons(o)||t.push({panel:o,action:"addButtons"}));t.length>0&&requestAnimationFrame((()=>{for(const{panel:e,action:o}of t)"addClass"===o?e.classList.add("spectra-enhanced-panel"):"addButtons"===o&&this.addDeviceButtonsToPanelBody(e)}))}setupDeviceListener(){let e=null;this.unsubscribe=(0,r.subscribe)((()=>{const t=(0,r.select)("core/editor"),o=(0,r.select)("core/block-editor"),s=t?.getDeviceType?.()||n.Vp,c=o?.getSelectedBlock?.(),l=c?.clientId||null;if("core/image"===c?.name){const{aspectRatio:e,width:t,height:o}=c.attributes||{},s={aspectRatio:e,width:t,height:o},r=this.lastImageAttributes[c.clientId]||{};if(e!==r.aspectRatio||t!==r.width||o!==r.height){const e=Object.keys(this.lastImageAttributes);if(e.length>=this.maxImageAttributesCacheSize){const t=e.slice(-5),o={};t.forEach((e=>{o[e]=this.lastImageAttributes[e]})),this.lastImageAttributes=o}this.lastImageAttributes[c.clientId]=s,setTimeout((()=>{this.immediateInject()}),100)}}s!==this.currentDevice&&(this.currentDevice=s,this.updateButtonStates(),requestAnimationFrame((()=>{this.isDestroyed||"function"!=typeof this.debouncedInject||(this.debouncedInject(),this.restoreTabState(),this.restoreScrollPosition())}))),l!==e&&(e=l,(0,i.Ww)(c))&&(this.isBlockInStabilizingState(c)?(this.isBlockStabilizing=!0,setTimeout((()=>{const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();e&&e.clientId===l&&!this.isBlockInStabilizingState(e)&&(this.isBlockStabilizing=!1,this.instantInjectPanels(),this.immediateInject(),this.updateButtonStates())}),200)):(this.isBlockStabilizing=!1,this.instantInjectPanels(),this.immediateInject(),this.updateButtonStates()))}))}injectDeviceButtons(e=document){try{const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!(0,i.Ww)(t))return;if(this.isBlockStabilizing||this.isBlockInStabilizingState(t))return;const o=e===document?document.querySelector(this.selectors.inspector)||document:e,s=Array.from(o.querySelectorAll(this.selectors.toolsPanel)),n=Array.from(o.querySelectorAll(this.selectors.panelBody)),c=Array.from(o.querySelectorAll(this.selectors.toolsPanelItem));requestAnimationFrame((()=>{try{for(const e of s)this.panelHasResponsiveControls(e,t)&&!this.hasDeviceButtons(e)&&this.isPanelVisible(e)&&this.addDeviceButtonsToPanel(e);for(const e of n)this.panelHasResponsiveControls(e,t)&&this.isPanelVisible(e)&&(e.classList.contains("spectra-enhanced-panel")||e.classList.add("spectra-enhanced-panel"),this.hasDeviceButtons(e)||this.addDeviceButtonsToPanelBody(e));const e=[];for(const o of c){const s=o.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);s&&this.panelHasResponsiveControls(s,t)&&this.shouldApplyControlClasses(o,t)&&(this.isResponsiveControl(o,t)?o.classList.contains("spectra-enhanced-control")||e.push({control:o,type:"enhance"}):o.classList.contains("spectra-excluded-control")||e.push({control:o,type:"exclude"}))}for(const{control:t,type:o}of e)"enhance"===o?(t.classList.add("spectra-enhanced-control"),t.classList.remove("spectra-excluded-control")):(t.classList.add("spectra-excluded-control"),t.classList.remove("spectra-enhanced-control"));this.updateButtonStates()}catch(e){}}))}catch(e){}}shouldApplyControlClasses(e,t=null){const o=e.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);if(!o)return!1;const s=this.getPanelTitle(o);return!this.isPanelTitleMatch(s,"Typography")&&this.isResponsiveControl(e,t)}isResponsiveControl(e,t=null){if(this.domCache.has(e))return this.domCache.get(e);this.domCache.size>=this.maxCacheSize&&this.domCache.clear();const o=e.closest(`${this.selectors.toolsPanel}, ${this.selectors.panelBody}`);if(!o)return this.domCache.set(e,!1),!1;const n=t||(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!n)return this.domCache.set(e,!1),!1;const i=[],c=e.getAttribute("aria-label");c&&i.push(c.toLowerCase());const l=e.querySelector("legend");l?.textContent&&i.push(l.textContent.toLowerCase());const a=e.querySelectorAll("label, .components-base-control__label, .components-toggle-control__label");for(const e of a)e.textContent&&i.push(e.textContent.toLowerCase());const d=e.querySelector(".components-base-control__help");d?.textContent&&i.push(d.textContent.toLowerCase());const u=i.join(" "),h=this.getPanelTitle(o);if("spectra/slider"===n.name&&this.isPanelTitleMatch(h,"General")){const t=["Slides Per View","Space Between Slides"].some((e=>{if(u.includes(e.toLowerCase()))return!0;const t=(0,s.__)(e,"ultimate-addons-for-gutenberg").toLowerCase();return u.includes(t)}));return this.domCache.set(e,t),t}return"core/image"===n.name&&this.isPanelTitleMatch(h,"Settings")?["Aspect ratio","Width","Height","Scale"].some((e=>{if(u.includes(e.toLowerCase()))return!0;const t=(0,s.__)(e,"default").toLowerCase();return u.includes(t)})):this.panelHasResponsiveControls(o,n)?(this.domCache.set(e,!0),!0):(this.domCache.set(e,!1),!1)}getPanelTitle(e){if(this.domCache.has(e)){const t=this.domCache.get(e);if(void 0!==t?.title)return t.title}this.domCache.size>=this.maxCacheSize&&this.domCache.clear();let t="";if(e.classList.contains("components-tools-panel")){const o=e.querySelector("h2");t=o?.textContent?.trim()?.toLowerCase()||""}else if(e.classList.contains("components-panel__body")){const o=e.querySelector(".components-panel__body-title button");t=o?.textContent?.trim()?.toLowerCase()||""}const o=this.domCache.get(e)||{};return o.title=t,this.domCache.set(e,o),t}isPanelTitleMatch(e,t){if(e===t.toLowerCase())return!0;const o=(0,s.__)(t,"default").toLowerCase(),r=(0,s.__)(t,"ultimate-addons-for-gutenberg").toLowerCase();return e===o||e===r}panelHasResponsiveControls(e,t=null){const o=this.getPanelTitle(e);if(l.some((e=>{const t=e.toLowerCase();if(o===t)return!0;const r=(0,s.__)(e,"default").toLowerCase(),n=(0,s.__)(e,"ultimate-addons-for-gutenberg").toLowerCase();return o===r||o===n})))return!0;const n=t||(0,r.select)("core/block-editor").getSelectedBlock();return!(!n||!a[n.name])&&a[n.name].some((e=>{const t=e.toLowerCase();if(o===t)return!0;const r=n.name?.startsWith("core/"),i=(0,s.__)(e,r?"default":"ultimate-addons-for-gutenberg").toLowerCase();return o===i}))}hasDeviceButtons(e){return!!e.querySelector(this.selectors.responsiveIcons)}createDeviceButtonsHTML(){return Object.entries(c).map((([e,t])=>{const o=this.currentDevice===e;return`\n\t\t\t\t\t<button \n\t\t\t\t\t\ttype="button" \n\t\t\t\t\t\tclass="spectra-responsive-icon ${o?"is-active":""}"\n\t\t\t\t\t\tdata-device="${e}"\n\t\t\t\t\t\ttitle="${t.label}"\n\t\t\t\t\t\taria-label="${t.label}"\n\t\t\t\t\t\taria-pressed="${o?"true":"false"}"\n\t\t\t\t\t>\n\t\t\t\t\t\t${t.icon}\n\t\t\t\t\t</button>\n\t\t\t\t`})).join("")}createHelpTextHTML(){let e="";return this.currentDevice===n.vn?e=(0,s.sprintf)(
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
(0,s.__)("%1$sNote:%2$s Inherits from Desktop on reset.","ultimate-addons-for-gutenberg"),"<b>","</b>"):this.currentDevice===n.ND&&(e=(0,s.sprintf)(
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
// Translators: %1$s: The opening bold tag; %2$s: The closing bold tag;
(0,s.__)("%1$sNote:%2$s Inherits from Tablet or Desktop on reset.","ultimate-addons-for-gutenberg"),"<b>","</b>")),e?`\n\t\t\t<div class="components-notice is-info spectra-responsive-help-notice" role="status">\n\t\t\t\t<div class="components-notice__content">\n\t\t\t\t\t<p>${e}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`:""}addDeviceButtonsToPanel(e){const t=e.querySelector(".components-tools-panel-header h2");if(!t)return;if(t.querySelector(".spectra-responsive-icons"))return;const o=document.createElement("span");o.className="spectra-responsive-icons spectra-panel-responsive-icons",o.innerHTML=this.createDeviceButtonsHTML(),t.appendChild(o);const s=this.createHelpTextHTML();if(s){const t=e.querySelector(".spectra-responsive-help-notice");t&&t.remove();const o=e.querySelector(".components-tools-panel-header");o&&o.insertAdjacentHTML("afterend",s)}e.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(o,e)}addDeviceButtonsToPanelBody(e){const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!(0,i.Ww)(t))return;const o=e.querySelector(".components-panel__body-title button");if(!o)return;if(o.querySelector(".spectra-responsive-icons"))return;const s=document.createElement("span");s.className="spectra-responsive-icons spectra-panel-responsive-icons",s.innerHTML=this.createDeviceButtonsHTML(),o.appendChild(s),e.classList.add("spectra-enhanced-panel"),this.attachDeviceButtonHandlers(s)}attachDeviceButtonHandlers(e){e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=e.target.closest(".spectra-responsive-icon");t&&(this.trackExactScrollPosition(),this.saveCurrentTabState(),this.switchDevice(t.dataset.device))}))}detectTabType(e){if(!e)return"settings";const t=e.toLowerCase();if(t.includes("style"))return"styles";const o=(0,s.__)("Styles","default").toLowerCase();if("styles"!==o&&t.includes(o))return"styles";if(t.includes("setting"))return"settings";const r=(0,s.__)("Settings","default").toLowerCase();return"settings"!==r&&t.includes(r),"settings"}saveCurrentTabState(){const e=document.querySelector(this.selectors.activeTab);if(e){const t=e.getAttribute("aria-label");if(t){const e=this.detectTabType(t);this.saveTabStateToStorage(e)}}}switchDevice(e){const t=document.querySelectorAll(".components-panel__body.spectra-enhanced-panel"),o=Array.from(t).map((e=>{const t=e.querySelector(".components-panel__body-title button");if(t){const o=Array.from(t.childNodes).find((e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim()));if(o)return{title:o.textContent.trim(),isOpened:e.classList.contains("is-opened")}}return null})).filter(Boolean),s=(0,r.dispatch)("core/edit-post");if(s?.__experimentalSetPreviewDeviceType)s.__experimentalSetPreviewDeviceType(e);else{const t=(0,r.dispatch)("core/edit-site");t?.__experimentalSetPreviewDeviceType&&t.__experimentalSetPreviewDeviceType(e)}this.currentDevice=e,this.updateButtonStates(),requestAnimationFrame((()=>{o.forEach((e=>{document.querySelectorAll(".components-panel__body").forEach((t=>{const o=t.querySelector(".components-panel__body-title button");if(o){const s=Array.from(o.childNodes).find((e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim()));s&&s.textContent.trim()===e.title&&t.classList.add("spectra-enhanced-panel")}}))}))}))}updateButtonStates(){if(this.isDestroyed)return;const e=(0,r.select)("core/editor")?.getDeviceType?.()||n.Vp;this.currentDevice=e;const t=document.querySelectorAll(".spectra-responsive-icon");if(0!==t.length)requestAnimationFrame((()=>{t.forEach((e=>{const t=e.dataset.device===this.currentDevice;e.classList.toggle("is-active",t),e.setAttribute("aria-pressed",t?"true":"false")})),this.updateHelpText()}));else{const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if((0,i.Ww)(e)&&"function"==typeof this.debouncedInject){this.debouncedInject();const e=setTimeout((()=>{this.isDestroyed||this.updateButtonStates()}),100);this.buttonStateTimeout=e}}}updateHelpText(){if(!this.getScrollableContainer())return;const e=this.createHelpTextHTML();document.querySelectorAll(".spectra-enhanced-panel").forEach((t=>{const o=t.querySelector(".spectra-responsive-help-notice");if(e){if(o)o.outerHTML=e;else if(t.classList.contains("components-tools-panel")){const o=t.querySelector(".components-tools-panel-header");o&&o.insertAdjacentHTML("afterend",e)}}else o&&o.remove()}))}getTabStateFromStorage(){if(!window.localStorage)return null;try{const e=localStorage.getItem("spectraV3TabState");return e?JSON.parse(e):null}catch(e){return null}}saveTabStateToStorage(e){if(!window.localStorage)return;const t=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!t)return;const o=this.tabState||{};o[t.name]={activeTab:e,timestamp:Date.now()};try{localStorage.setItem("spectraV3TabState",JSON.stringify(o)),this.tabState=o}catch(e){}}setupTabObserver(){this.boundHandleTabClick=e=>{const t=e.target.closest(`${this.selectors.tabs} ${this.selectors.tabButton}`);if(t){const e=t.getAttribute("aria-label"),o=e?this.detectTabType(e):"settings";this.saveTabStateToStorage(o),this.tabSwitchTimeout&&(clearTimeout(this.tabSwitchTimeout),this.tabSwitchTimeout=null),this.tabSwitchTimeout=setTimeout((()=>{this.tabSwitchTimeout=null;const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();(0,i.Ww)(e)&&!this.isBlockStabilizing&&(this.immediateInject(),this.updateButtonStates())}),50)}},document.addEventListener("click",this.boundHandleTabClick,!0)}restoreTabState(){const e=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(!e||!this.tabState||!this.tabState[e.name])return!1;if(this.isBlockStabilizing||this.isBlockInStabilizingState(e))return!1;const t=this.tabState[e.name].activeTab,o=(e=0)=>{if(e>10)return;const s=(0,r.select)("core/block-editor")?.getSelectedBlock?.();if(this.isBlockStabilizing||this.isBlockInStabilizingState(s))return;const n=document.querySelectorAll(`${this.selectors.tabs} ${this.selectors.tabButton}`);if(0!==n.length)for(const e of n){const o=e.getAttribute("aria-label");if("true"!==e.getAttribute("aria-selected")&&o&&this.detectTabType(o)===t){e.click();break}}else requestAnimationFrame((()=>o(e+1)))};return requestAnimationFrame((()=>o())),!1}setupPanelClickHandler(){this.boundHandlePanelClick=e=>{const t=e.target.closest(".components-panel__body-toggle");if(!t)return;const o=t.closest(".components-panel__body");o&&this.panelHasResponsiveControls(o)&&(o.classList.add("spectra-enhanced-panel"),requestAnimationFrame((()=>{o.classList.add("spectra-enhanced-panel"),this.hasDeviceButtons(o)||this.addDeviceButtonsToPanelBody(o)})))},document.addEventListener("click",this.boundHandlePanelClick,!0)}trackExactScrollPosition(){const e=this.getScrollableContainer();e&&(this.lastClickedPosition={scrollTop:e.scrollTop,scrollPercentage:e.scrollTop/Math.max(1,e.scrollHeight),containerElement:e,device:this.currentDevice})}restoreScrollPosition(){if(!this.lastClickedPosition)return;const e=this.lastClickedPosition.containerElement?.isConnected?this.lastClickedPosition.containerElement:this.getScrollableContainer();e&&setTimeout((()=>{const t=this.lastClickedPosition.scrollPercentage*Math.max(1,e.scrollHeight);e.scrollTo({top:t,behavior:"smooth"})}),300)}destroy(){this.isDestroyed=!0,this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.injectionTimeout&&(clearTimeout(this.injectionTimeout),this.injectionTimeout=null),this.tabSwitchTimeout&&(clearTimeout(this.tabSwitchTimeout),this.tabSwitchTimeout=null),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.buttonStateTimeout&&(clearTimeout(this.buttonStateTimeout),this.buttonStateTimeout=null),this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.observer&&(this.observer.disconnect(),this.observer=null),this.lastImageAttributes=null,this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null),this.debouncedInject&&"function"==typeof this.debouncedInject.cancel&&(this.debouncedInject.cancel(),this.debouncedInject=null),this.boundHandleVisibilityChange&&(document.removeEventListener("visibilitychange",this.boundHandleVisibilityChange),this.boundHandleVisibilityChange=null),this.boundHandleWindowFocus&&(window.removeEventListener("focus",this.boundHandleWindowFocus),this.boundHandleWindowFocus=null),this.boundHandleTabClick&&(document.removeEventListener("click",this.boundHandleTabClick,!0),this.boundHandleTabClick=null),this.boundHandlePanelClick&&(document.removeEventListener("click",this.boundHandlePanelClick,!0),this.boundHandlePanelClick=null),this.domCache.clear(),this.lastClickedPosition=null,this.cachedScrollContainer=null,this.tabState=null,this.isBlockStabilizing=!1,this.tabSwitchTimeout=null}}let u=null;try{u=new d;const e=()=>{u&&(u.destroy(),u=null)};window.addEventListener("beforeunload",e,{once:!0}),window.addEventListener("pagehide",e,{once:!0})}catch(e){}},5188:(e,t,o)=>{o.d(t,{Go:()=>d,yo:()=>O,Rg:()=>b,fc:()=>I,RM:()=>x,a4:()=>A,Ww:()=>D,Gv:()=>f,Vd:()=>M,RK:()=>q});const s=window.wp.compose;var r=o(7143);const n=window.wp.element;var i=o(2619),c=o(3168),l=o(3663);const a=window.ReactJSXRuntime,d=e=>"object"!=typeof e||null===e?e:"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e)),u=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return e===t;if(typeof e!=typeof t)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>u(e,t[o])));if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((o=>s.includes(o)&&u(e[o],t[o])))}return e===t},h=(e,t,o)=>{if(!e||"string"!=typeof t)return o;const s=t.split(".").reduce(((e,t)=>e&&"object"==typeof e?e[t]:void 0),e);return void 0===s?o:s},p=(e,t,o)=>{if(!e||"string"!=typeof t)return;const s=t.split("."),r=s.pop();s.reduce(((e,t)=>(t in e&&"object"==typeof e[t]&&null!==e[t]||(e[t]={}),e[t])),e)[r]=o},b=(e,t)=>{if(!e||"string"!=typeof t)return!1;const o=t.split("."),s=o.pop(),r=o.reduce(((e,t)=>e&&"object"==typeof e?e[t]:void 0),e);return!(!r||"object"!=typeof r||!(s in r)||(delete r[s],0))},y=(e,t)=>{if(!e||"string"!=typeof t)return!1;const o=t.split(".");let s=e;for(const e of o){if(null==s||"object"!=typeof s)return!1;if(!(e in s))return!1;s=s[e]}return!0},f=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),m=Array.isArray,g=e=>"function"==typeof e,v=e=>void 0===e,S=(e,t)=>{if(!t||!f(t))return e;e&&f(e)&&(!m(e)||m(t))||(e={});for(const o in t)null!==t[o]?m(e[o])&&!m(t[o])||!m(e[o])&&m(t[o])||!t[o]||!f(t[o])||m(t[o])||t[o]instanceof Date?e[o]=t[o]:(e[o]&&f(e[o])||(e[o]={}),S(e[o],t[o])):e[o]=null;return e},w=(e,t)=>{if(e===t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!0;for(const s of o){const o=e[s],r=t[s],n=!g(o)&&!v(o);if(n!==(!g(r)&&!v(r)))return!0;if(n&&!u(o,r))return!0}return!1},C=e=>{if(!e||"object"!=typeof e)return!0;const t=Object.keys(e);return 0===t.length||!t.some((t=>A(e[t])))},k=(e,t)=>{if(e===t)return!1;if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return e!==t;const o=Object.keys(e),s=Object.keys(t),r=o.filter((t=>!v(e[t])&&!g(e[t]))),n=s.filter((e=>!v(t[e])&&!g(t[e])));if(r.length!==n.length)return!0;for(const o of r)if(!y(t,o)||k(e[o],t[o]))return!0;return!1},T=e=>["lg","md","sm"].some((t=>{const o=e[t];return!(!o||"object"!=typeof o)&&(y(o,"style.border.radius.topLeft")||y(o,"style.border.radius.topRight")||y(o,"style.border.radius.bottomLeft")||y(o,"style.border.radius.bottomRight"))})),L=e=>({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e}),_=e=>["lg","md","sm"].some((t=>{const o=e[t];return!(!o||"object"!=typeof o)&&(y(o,"style.border.top")||y(o,"style.border.right")||y(o,"style.border.bottom")||y(o,"style.border.left"))})),j=(e,t=null)=>{const o={};return["top","right","bottom","left"].forEach((s=>{const r={};e.width&&(r.width=e.width),e.style&&(r.style=e.style),e.color?r.color=e.color:t&&(e.width||e.style)&&(t.startsWith("var:preset|color|")?r.color=t:r.color=`var:preset|color|${t}`),Object.keys(r).length>0&&(o[s]=r)})),o},B=(e,t,o=[],s=3)=>(s<=0||!t||"object"!=typeof t||Object.keys(t).forEach((r=>{const n=e?`${e}.${r}`:r;o.push(n),t[r]&&"object"==typeof t[r]&&!Array.isArray(t[r])&&B(n,t[r],o,s-1)})),o),A=e=>!(e=>null==e)(e)&&""!==e&&(!f(e)||(m(e)?e.length>0:Object.keys(e).length>0&&Object.values(e).some((e=>A(e))))),x=(e,t)=>{const o=H(t),s=new Set(o),r={},n=e.style;if(n&&"object"==typeof n){const e={};for(const t of c.Eo)t in n&&("border"===t&&"object"==typeof n.border?e.border=n.border:e[t]=n[t]);Object.keys(e).length>0&&(r.style=e)}for(const[t,o]of Object.entries(e))"style"!==t&&s.has(t)&&(r[t]=o);return r},D=e=>!!e?.name&&!c.u5.includes(e.name)&&(c.K8.some((t=>e.name.startsWith(t)))||c.Ap.includes(e.name));let P=null;const E=()=>{if(P)try{P()}catch(e){}finally{P=null}z.cleanup()};wp.domReady((()=>{new Promise((e=>{const t=(0,r.subscribe)((()=>{(0,r.select)("core/block-editor").getBlockCount()>0&&(t(),e())}))})).then((()=>{"undefined"!=typeof window&&(()=>{if(P)return;if(!r.subscribe||!r.select)return;let e=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;const t=setTimeout((()=>{z.processDeviceChange(e)}),0);if(P=(0,r.subscribe)((()=>{const t=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;t!==e&&(z.processDeviceChange(t),e=t)})),"undefined"!=typeof window){window.addEventListener("beforeunload",E,{once:!0}),window.addEventListener("pagehide",E,{once:!0});const e=()=>{if(P)try{P()}catch(e){}finally{P=null}z.cleanup()},o=()=>{clearTimeout(t),e()};window.removeEventListener("beforeunload",E),window.removeEventListener("pagehide",E),window.addEventListener("beforeunload",o,{once:!0}),window.addEventListener("pagehide",o,{once:!0})}})()}))}));const H=(e,t=!1)=>{if(!e)return t?[]:c.eM;let o=c.I_[e]||[];return o=(0,i.applyFilters)("spectra.responsive-controls.block-responsive-keys",o,e),t?o:[...c.eM,...o]},I=(e,t)=>D({name:t})?{...e,attributes:{...e.attributes,responsiveControls:{type:"object",default:{}},spectraId:{type:"string"}}}:e,O=(e,t,o,s)=>{const r=d(e);let n=(e=>{if(!T(e))return e;const t=d(e);return["lg","md","sm"].forEach((e=>{const o=t[e];if(o&&"object"==typeof o&&y(o,"style.border.radius")&&"object"!=typeof o.style.border.radius){const s=o.style.border.radius,r=L(s);b(t,`${e}.style.border.radius`),p(t,`${e}.style.border.radius`,r)}})),t})(t);if(T(t)&&y(r,"style.border.radius")&&"object"!=typeof r.style.border.radius){const e=r.style.border.radius,t=L(e);p(r,"style.border.radius",t)}if(n=(e=>{if(!_(e))return e;const t=d(e);return["lg","md","sm"].forEach((e=>{const o=t[e];if(o&&"object"==typeof o&&(y(o,"style.border.width")||y(o,"style.border.style")||y(o,"style.border.color")||A(o?.borderColor))){const s={};y(o,"style.border.width")&&(s.width=o.style.border.width),y(o,"style.border.style")&&(s.style=o.style.border.style),y(o,"style.border.color")&&(s.color=o.style.border.color);const r=t[e]?.borderColor||null,n=j(s,r);b(t,`${e}.style.border.width`),b(t,`${e}.style.border.style`),b(t,`${e}.style.border.color`),Object.keys(n).forEach((o=>{p(t,`${e}.style.border.${o}`,n[o])})),r&&y(t[e],"borderColor")&&delete t[e].borderColor}})),t})(n),_(t)&&(y(r,"style.border.width")||y(r,"style.border.style")||y(r,"style.border.color")||A(r.borderColor))){const e={};y(r,"style.border.width")&&(e.width=r.style.border.width),y(r,"style.border.style")&&(e.style=r.style.border.style),y(r,"style.border.color")&&(e.color=r.style.border.color);const t=r?.borderColor||null,o=j(e,t);b(r,"style.border.width"),b(r,"style.border.style"),b(r,"style.border.color"),Object.keys(o).forEach((e=>{p(r,`style.border.${e}`,o[e])})),t&&y(r,"borderColor")&&delete r.borderColor}const i=H(s,!0),l=[...i,...c.ZR],a=i.includes("background");a&&c.om.forEach((e=>{l.push(`background.${e}`)}));const u=c.jd[o]||["lg"],f=u[0],m=n[f]||{},g={};l.forEach((e=>{if(y(m,e)){const t=h(m,e);if(A(t))return void p(g,e,t)}if("background.media"===e&&a){const t=h(m,"background.type");for(const o of u.slice(1)){const s=h(n[o]||{},"background.type"),r=h(n[o]||{},e);if(A(r)&&(!A(t)||t===s)){p(g,e,r);break}}}else for(const t of u.slice(1)){const o=h(n[t]||{},e);if(A(o)){p(g,e,o);break}}}));const v=[];c.eM.forEach((e=>{"style"===e?c.Eo.forEach((e=>{v.push(`style.${e}`)})):v.push(e)})),i.forEach((e=>{v.includes(e)||v.push(e),"background"===e&&a&&c.om.forEach((e=>{v.push(`background.${e}`)}))})),((e,t,o)=>{const s=[];o.forEach((t=>{s.push(t);const o=h(e,t);o&&"object"==typeof o&&!Array.isArray(o)&&B(t,o,s)})),s.forEach((o=>{const s=h(e,o),r=h(t,o);A(s)&&!A(r)&&p(t,o,void 0)}))})(r,g,v),S(r,g);const w=h(r,"style.border")||{};if(A(w.width)&&Number.parseInt(w.width,10)>0&&"none"===w.style&&p(r,"style.border.style",void 0),c.zE.forEach((([e,t])=>{const o=r[e],s=h(r,t),n=y(m,e),i=y(m,t);A(o)&&A(s)?n?p(r,t,void 0):i?r[e]=void 0:p(r,t,void 0):!A(o)||A(s)||i||p(r,t,void 0)})),y(r,"layout")){const e=h(r,"layout")||{};!Object.values(e).some((e=>A(e)))&&(r.layout=void 0)}const C=h(r,"style.border.top.color"),k=h(r,"style.border.right.color"),x=h(r,"style.border.bottom.color"),D=h(r,"style.border.left.color");return(A(C)||A(k)||A(x)||A(D))&&A(C)&&A(k)&&A(x)&&A(D)&&C===k&&k===x&&x===D&&(r.style.border||(r.style.border={}),r.style.border.color=C,y(r,"borderColor")&&(r.borderColor=void 0)),r},q=(0,s.createHigherOrderComponent)((e=>t=>{const{attributes:o,setAttributes:s,name:i}=t,{responsiveControls:u={},spectraId:h}=o;if(!D({name:i}))return(0,a.jsx)(e,{...t});(0,n.useEffect)((()=>{if(!h){const e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);s({spectraId:`spectra-${e}-${t}`})}}),[]);const p=(0,r.useSelect)((e=>e("core/editor")?.getDeviceType?.()||c.Vp),[]),f=(0,n.useMemo)((()=>(e=>c.s_[e]||"lg")(p)),[p]),m="object"!=typeof u[f]||null===u[f]||Array.isArray(u[f])?{}:u[f],g=(0,n.useCallback)((e=>{if((0,l.A)())return void s(e);const t=x(e,i);if(0===Object.keys(t).length)return void s(e);const o=Array.isArray(m)?{}:d(m);var r,n;r=o,n=t,c.zE.forEach((([e,t])=>{const o=y(n,e),s=y(n,t);if(y(n,"layout")&&y(r,"layout")&&n.layout!==r.layout&&b(r,"layout"),y(n,"style")&&y(n,"style.spacing")&&(y(r,"style.spacing.padding")&&!y(n,"style.spacing.padding")&&b(r,"style.spacing.padding"),y(r,"style.spacing.margin")&&!y(n,"style.spacing.margin")&&b(r,"style.spacing.margin"),y(r,"style.spacing.blockGap")&&!y(n,"style.spacing.blockGap")&&b(r,"style.spacing.blockGap")),y(n,"style.border.width")&&Number.parseInt(n.style.border.width,10)>0&&y(r,"style.border.style")&&"none"===r.style.border.style&&b(r,"style.border.style"),y(n,"style.border")){const e=y(n,"style.border.width")||y(n,"style.border.style")||y(n,"style.border.color")||A(n?.borderColor),t=y(n,"style.border.top")||y(n,"style.border.right")||y(n,"style.border.bottom")||y(n,"style.border.left");e&&y(r,"style.border")?(b(r,"style.border.top"),b(r,"style.border.right"),b(r,"style.border.bottom"),b(r,"style.border.left")):t&&y(r,"style.border")&&(b(r,"style.border.width"),b(r,"style.border.style"),b(r,"style.border.color"),y(r,"borderColor")&&delete r.borderColor)}o?(b(r,t),"borderColor"===e&&void 0===n.borderColor&&!y(n,"style.border")&&y(r,"style.border")&&b(r,"style.border")):s&&delete r[e]})),S(o,t);const a=k(m,o);s(a?{...e,responsiveControls:{...u,[f]:o}}:e)}),[f,u,m,i,s]);return(0,a.jsx)(e,{...t,setAttributes:g})}),"withResponsiveControls"),z={updateQueue:new Map,isProcessing:!1,currentDevice:null,processingTimeouts:new Set,register(e,t){if(this.updateQueue.size>1e3){const e=Array.from(this.updateQueue.keys());for(let t=0;t<200;t++)this.updateQueue.delete(e[t])}this.updateQueue.set(e,{clientId:e,updateFn:t})},unregister(e){this.updateQueue.delete(e)},cancelPendingProcessing(){this.processingTimeouts.forEach((e=>clearTimeout(e))),this.processingTimeouts.clear(),this.isProcessing=!1},cleanup(){this.cancelPendingProcessing(),this.updateQueue.clear(),this.currentDevice=null},processDeviceChange(e){if(this.isProcessing&&this.currentDevice!==e&&this.cancelPendingProcessing(),this.currentDevice===e)return;this.cancelPendingProcessing(),this.isProcessing=!0,this.currentDevice=e;const t=c.T$,o=Array.from(this.updateQueue.values());let s=0;const r=()=>{if(this.currentDevice!==e)return;const n=Math.min(s+t,o.length);for(let t=s;t<n;t++){const{updateFn:s}=o[t];if(s)try{s(e)}catch(e){}}if(s=n,s<o.length){const e=setTimeout(r,1);this.processingTimeouts.add(e)}else this.isProcessing=!1,this.processingTimeouts.clear()};r()}},M=(0,s.createHigherOrderComponent)((e=>t=>{const{attributes:o,name:s,clientId:i}=t,{responsiveControls:l={}}=o,{__unstableMarkNextChangeAsNotPersistent:d,updateBlockAttributes:u}=(0,r.useDispatch)("core/block-editor");if(!D({name:s}))return(0,a.jsx)(e,{...t});const h=(0,n.useRef)(c.Vp);(0,n.useEffect)((()=>{if("spectra/container"===s&&!o?.variationSelected){const e=(0,r.select)("core/block-editor").getBlockParents(i);if(Array.isArray(e)&&e.length>0){const t=(0,r.select)("core/block-editor").getBlock;for(const o of e){const e=t(o);if("spectra/container"===e?.name&&e?.attributes?.variationSelected){d(),u(i,{variationSelected:!0});break}}}}}),[]);const p=(0,n.useRef)(o),b=(0,n.useRef)(l);p.current=o,b.current=l;const y=(0,n.useCallback)((e=>{const t=p.current,o=b.current;if(0===Object.keys(o).length)return void(h.current=e);const r=x(t,s),n=h.current,l=e,a=H(s),y=["lg","md","sm"];for(const e of a)if(!(e in r))for(const t of y)if(void 0!==o[t]?.[e]){r[e]=void 0;break}if(0===Object.keys(r).length)return void(h.current=l);if(function(e,t,o){const s=o?.lg,r=o?.md,n=o?.sm;return!!(e===c.Vp&&t===c.vn&&C(r)||e===c.vn&&t===c.ND&&C(n)||e===c.vn&&t===c.Vp&&C(s)&&C(r)||e===c.ND&&t===c.vn&&C(n)&&C(r))}(n,l,o))return void(h.current=l);const f=O(r,o,l,s);if(!w(r,f))return void(h.current=l);const m={...t,...f};(t.style||f.style)&&(m.style={...t.style||{},...f.style||{}}),w(t,m)&&(d(),u(i,m)),h.current=l}),[s,i,d,u]);return(0,n.useEffect)((()=>{const e=(0,r.select)("core/editor")?.getDeviceType?.()||c.Vp;h.current=e,z.register(i,y);const t=requestAnimationFrame((()=>{y(e)}));return()=>{cancelAnimationFrame(t),z.unregister(i)}}),[i,y]),(0,a.jsx)(e,{...t})}),"withDeviceViewUpdate")},7143:e=>{e.exports=window.wp.data},7723:e=>{e.exports=window.wp.i18n}},t={};function o(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(3910)})();